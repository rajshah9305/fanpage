<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Vixen: The Megan Fox Protocol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto+Mono:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-glow: #00f6ff;
            --secondary-glow: #ff00c1;
            --bg-color: #020305;
            --text-color: #e0e0e0;
            --border-color: rgba(0, 246, 255, 0.25);
            --border-color-hover: rgba(0, 246, 255, 0.75);
        }

        ::selection { background: var(--secondary-glow); color: var(--bg-color); }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Roboto Mono', monospace;
            overflow-x: hidden;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><circle cx="10" cy="10" r="2" fill="%2300f6ff"/></svg>') 10 10, auto;
        }

        .font-orbitron { font-family: 'Orbitron', sans-serif; }

        #webgl-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .content-wrapper { position: relative; z-index: 10; }
        .content-section {
            min-height: 100vh;
            padding: 5rem 2rem;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* --- HUD Elements --- */
        .hud-container { position: fixed; inset: 20px; pointer-events: none; z-index: 99; opacity: 0; }
        .hud-corner {
            position: absolute;
            width: 25px;
            height: 25px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease-in-out;
            animation: pulse-border 4s infinite alternate;
        }
        .hud-corner-tl { top: 0; left: 0; border-right: none; border-bottom: none; }
        .hud-corner-tr { top: 0; right: 0; border-left: none; border-bottom: none; }
        .hud-corner-bl { bottom: 0; left: 0; border-right: none; border-top: none; }
        .hud-corner-br { bottom: 0; right: 0; border-left: none; border-top: none; }
        @keyframes pulse-border {
            from { box-shadow: 0 0 4px var(--border-color); }
            to { box-shadow: 0 0 10px var(--primary-glow); }
        }
        
        .hud-text {
            font-family: 'Roboto Mono', monospace;
            text-transform: uppercase;
            color: var(--primary-glow);
            text-shadow: 0 0 5px var(--primary-glow), 0 0 10px var(--primary-glow);
        }
        .scanlines {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            background: linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,0.02) 50%, rgba(255,255,255,0) 100%);
            background-size: 100% 4px;
            animation: scan 10s linear infinite;
            z-index: 100;
        }
        @keyframes scan { from { background-position: 0 0; } to { background-position: 0 -40px; } }

        /* --- Preloader --- */
        #preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-color);
            z-index: 10000;
            display: flex; justify-content: center; align-items: center;
            color: var(--primary-glow); text-shadow: 0 0 8px var(--primary-glow);
            font-size: 1rem; transition: opacity 1s ease-out;
        }
        #preloader.loaded { opacity: 0; pointer-events: none; }
        #preloader-text { white-space: nowrap; }

        /* --- Hero Section Refinement --- */
        #hero-video-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }
        #hero-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .hero-text-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5; /* Above video, below HUD */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            pointer-events: none; /* Allow interaction with video underneath */
        }
        .hero-vignette {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, transparent 30%, rgba(2, 3, 5, 0.8) 70%);
            z-index: 2; /* Between video and text */
        }
        .hero-title {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(2.5rem, 10vw, 8rem);
            font-weight: 900;
            text-transform: uppercase;
            line-height: 1;
            color: #fff;
            text-shadow: 0 0 10px rgba(0, 246, 255, 0.3), 0 0 40px rgba(2, 3, 5, 0.9);
        }
        .hero-subtitle {
            color: var(--primary-glow);
            text-shadow: 0 0 10px var(--primary-glow);
            letter-spacing: 0.5em;
        }

        /* --- General Content Styling --- */
        .decode-text { display: inline-block; opacity: 0; }
        .section-title {
            font-family: 'Orbitron', sans-serif;
            font-weight: 900;
            color: #fff;
            text-shadow: 0 0 15px rgba(255,255,255,0.2);
            text-transform: uppercase;
            position: relative;
            padding-bottom: 0.5rem;
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--primary-glow);
            box-shadow: 0 0 10px var(--primary-glow);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .section-title.in-view::after { transform: scaleX(1); }

        /* --- Showcase Grid with Placeholders --- */
        .showcase-grid {
            display: grid; grid-template-columns: repeat(12, 1fr);
            grid-auto-rows: 8vh; gap: 1rem; width: 100%;
            max-width: 1400px; margin: 0 auto;
        }
        .grid-item {
            overflow: hidden; position: relative;
            border: 1px solid var(--border-color);
            transition: border-color 0.3s, box-shadow 0.3s;
            opacity: 0;
            background-color: rgba(10, 25, 47, 0.3);
        }
        .grid-item:hover {
            border-color: var(--border-color-hover);
            box-shadow: 0 0 20px var(--primary-glow);
        }
        .grid-item img {
            width: 100%; height: 100%; object-fit: cover;
            transform: scale(1.1);
            transition: transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1), filter 0.4s;
        }
        .grid-item:hover img { transform: scale(1.0); filter: brightness(1.1) saturate(1.1); }
        .grid-item .overlay {
            position: absolute; bottom: 0; left: 0; right: 0;
            padding: 1rem; background: linear-gradient(to top, rgba(2, 3, 5, 0.9), transparent);
            font-family: 'Orbitron', sans-serif; font-weight: 700; text-transform: uppercase;
            opacity: 0; transform: translateY(100%);
            transition: opacity 0.4s, transform 0.4s;
        }
        .grid-item:hover .overlay { opacity: 1; transform: translateY(0); }
        /* Grid placements */
        .item-1 { grid-column: 1 / span 4; grid-row: 1 / span 5; }
        .item-2 { grid-column: 5 / span 3; grid-row: 1 / span 3; }
        .item-3 { grid-column: 8 / span 5; grid-row: 1 / span 6; }
        .item-4 { grid-column: 1 / span 4; grid-row: 6 / span 4; }
        .item-5 { grid-column: 5 / span 3; grid-row: 4 / span 6; }
        .item-6 { grid-column: 8 / span 2; grid-row: 7 / span 3; }
        .item-7 { grid-column: 10 / span 3; grid-row: 7 / span 3; }
    </style>
</head>
<body class="antialiased">

    <div id="preloader"><span id="preloader-text"></span></div>
    <div class="scanlines"></div>

    <div class="hud-container" id="hud">
        <div class="hud-corner hud-corner-tl"></div>
        <div class="hud-corner hud-corner-tr"></div>
        <div class="hud-corner hud-corner-bl"></div>
        <div class="hud-corner hud-corner-br"></div>
        <div class="hud-text fixed top-8 left-8 text-sm opacity-0" id="hud-info-top">CLASSIFIED // PROJECT: VIXEN // CALGARY, AB</div>
        <div class="hud-text fixed bottom-8 right-8 text-sm opacity-0" id="hud-info-bottom">STATUS: <span id="status-text">AWAITING INPUT</span></div>
    </div>

    <canvas id="webgl-canvas"></canvas>

    <div class="content-wrapper">
        <main>
            <section class="content-section h-screen text-center">
                <div id="hero-video-container">
                    <video id="hero-video" loop muted autoplay playsinline>
                        <source src="megan_glass.MP4" type="video/mp4">
                    </video>
                </div>
                <div class="hero-vignette"></div>
                <div class="hero-text-container">
                    <h2 class="hero-subtitle decode-text">CODENAME: VIXEN</h2>
                    <h1 class="hero-title decode-text">MEGAN FOX</h1>
                </div>
            </section>

            <section class="content-section container mx-auto" id="profile-section">
                <div class="grid grid-cols-1 md:grid-cols-5 gap-12 items-center">
                    <div class="md:col-span-3 text-left">
                        <h2 class="section-title text-4xl md:text-6xl mb-8 decode-text">SUBJECT ANALYSIS</h2>
                        <div class="space-y-4 text-gray-300 font-light text-lg">
                            <p class="decode-text"><span class="text-primary-glow font-bold">CLASSIFICATION:</span> Cultural Icon, Tier-S</p>
                            <p class="decode-text"><span class="text-primary-glow font-bold">PRIMARY ATTRIBUTES:</span> Unyielding Presence, Enigmatic Charisma, Versatile Performer.</p>
                            <p class="decode-text"><span class="text-primary-glow font-bold">OPERATIONAL HISTORY:</span> Defining roles in high-octane blockbusters and cult-classic cinema. A formidable force in modern pop culture.</p>
                            <p class="mt-6 text-gray-500 decode-text">// Analysis complete. Subject exceeds all known parameters.</p>
                        </div>
                    </div>
                    <div class="md:col-span-2 relative h-96 md:h-[60vh]" data-anim="profile-image">
                        <img src="http://googleusercontent.com/file_content/0" alt="Megan Fox Profile" class="object-cover w-full h-full" style="clip-path: polygon(20% 0, 100% 0, 80% 100%, 0% 100%); box-shadow: 0 0 40px -10px var(--secondary-glow);">
                    </div>
                </div>
            </section>

            <section class="content-section" id="showcase-section">
                <h2 class="section-title text-5xl md:text-7xl text-center mb-12 decode-text">VISUAL ARCHIVE</h2>
                <div class="showcase-grid">
                    <div class="grid-item item-1" data-anim="grid-item"><img src="http://googleusercontent.com/file_content/0" alt="Showcase 1"><div class="overlay">Golden Construct</div></div>
                    <div class="grid-item item-2" data-anim="grid-item"><img src="http://googleusercontent.com/file_content/0" alt="Showcase 2"><div class="overlay">Cosmic Entity</div></div>
                    <div class="grid-item item-3" data-anim="grid-item"><img src="http://googleusercontent.com/file_content/0" alt="Showcase 3"><div class="overlay">Noble Bearing</div></div>
                    <div class="grid-item item-4" data-anim="grid-item"><img src="http://googleusercontent.com/file_content/0" alt="Showcase 4"><div class="overlay">Crimson Dynamo</div></div>
                    <div class="grid-item item-5" data-anim="grid-item"><img src="http://googleusercontent.com/file_content/0" alt="Showcase 5"><div class="overlay">Heroic Stance</div></div>
                    <div class="grid-item item-6" data-anim="grid-item"><img src="http://googleusercontent.com/file_content/0" alt="Showcase 6"><div class="overlay">Celestial Form</div></div>
                    <div class="grid-item item-7" data-anim="grid-item"><img src="http://googleusercontent.com/file_content/0" alt="Showcase 7"><div class="overlay">Sunset Vigil</div></div>
                </div>
            </section>

            <section class="content-section text-center">
                <h2 class="section-title text-6xl md:text-8xl lg:text-9xl decode-text">STATUS: ICON</h2>
                <p class="text-primary-glow mt-4 text-lg decode-text">// PROTOCOL VIXEN: COMPLETE</p>
            </section>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            gsap.registerPlugin(ScrollTrigger);

            // --- PRELOADER & INTRO ---
            const preloaderText = document.getElementById('preloader-text');
            const bootSequence = [
                { text: "INITIATING SYSTEM BOOT...", delay: 0 },
                { text: "CALIBRATING RENDER ENGINE...", delay: 1 },
                { text: "DECRYPTING ASSET CACHE...", delay: 0.8 },
                { text: "LOADING VIXEN PROTOCOL...", delay: 1.2 },
                { text: "ACCESS GRANTED.", delay: 0.5 }
            ];
            let bootTl = gsap.timeline();
            bootSequence.forEach(item => {
                bootTl.to(preloaderText, {
                    duration: 0.01, text: item.text, ease: "none"
                }).to(preloaderText, { duration: item.delay, ease: "none" });
            });

            window.addEventListener('load', () => {
                bootTl.to("#preloader", {
                    duration: 1, opacity: 0,
                    onComplete: () => document.getElementById('preloader').style.display = 'none'
                });

                const mainTl = gsap.timeline({ delay: bootTl.duration() - 1 });
                mainTl
                    .to('#hud', { opacity: 1, duration: 1 })
                    .to('#hud-info-top, #hud-info-bottom', { opacity: 1, duration: 1, stagger: 0.2 }, "-=0.5")
                    .call(decodeTextElements, [document.querySelectorAll('.hero-subtitle, .hero-title')], "-=0.5");
            });

            // --- DECODE TEXT ANIMATION ---
            function decodeTextElements(elements) {
                elements.forEach(el => {
                    const originalText = el.textContent;
                    el.textContent = '';
                    gsap.fromTo(el, { opacity: 0 }, {
                        opacity: 1, duration: 0.01,
                        onComplete: () => {
                            let i = 0;
                            const interval = setInterval(() => {
                                if (i < originalText.length) {
                                    el.textContent += originalText[i]; i++;
                                } else { clearInterval(interval); }
                            }, 35);
                        }
                    });
                });
            }
            ScrollTrigger.batch(".decode-text", {
                onEnter: batch => {
                    batch.forEach((el) => {
                        const originalText = el.textContent;
                        el.textContent = '';
                        gsap.fromTo(el, { opacity: 0 }, {
                            opacity: 1,
                            scrollTrigger: { trigger: el, start: "top 90%" },
                            onComplete: () => {
                                let i = 0;
                                const interval = setInterval(() => {
                                    if (i < originalText.length) {
                                        el.textContent += originalText[i]; i++;
                                    } else { clearInterval(interval); }
                                }, 20);
                            }
                        });
                    });
                },
                once: true
            });
            
            // Section Title Underline Animation
            document.querySelectorAll('.section-title').forEach(title => {
                gsap.to(title, {
                    scrollTrigger: {
                        trigger: title,
                        start: "top 85%",
                        toggleClass: "in-view",
                        once: true
                    }
                });
            });


            // --- THREE.JS 3D RENDER ---
            let scene, camera, renderer, model;
            const mouse = new THREE.Vector2();

            function initThree() {
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                camera.position.z = 4;

                renderer = new THREE.WebGLRenderer({
                    canvas: document.getElementById('webgl-canvas'),
                    alpha: true, antialias: true
                });
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

                const geometry = new THREE.IcosahedronGeometry(1.2, 3);
                const material = new THREE.MeshStandardMaterial({
                    color: 0xaaaaaa, metalness: 1.0, roughness: 0.2, flatShading: true,
                });
                model = new THREE.Mesh(geometry, material);
                scene.add(model);
                
                model.geometry.setAttribute('originalPosition', model.geometry.attributes.position.clone());

                const computedStyle = getComputedStyle(document.body);
                const primaryGlowColor = computedStyle.getPropertyValue('--primary-glow').trim();
                const secondaryGlowColor = computedStyle.getPropertyValue('--secondary-glow').trim();
                const primaryGlowHex = parseInt(primaryGlowColor.replace("#", "0x"));
                const secondaryGlowHex = parseInt(secondaryGlowColor.replace("#", "0x"));

                const light1 = new THREE.DirectionalLight(0xffffff, 1.2);
                light1.position.set(1, 1, 1);
                scene.add(light1);
                const light2 = new THREE.PointLight(primaryGlowHex, 2, 15);
                light2.position.set(-5, 2, 3);
                scene.add(light2);
                const light3 = new THREE.PointLight(secondaryGlowHex, 2, 15);
                light3.position.set(5, -2, 3);
                scene.add(light3);

                window.addEventListener('mousemove', onMouseMove);
                window.addEventListener('resize', onWindowResize);
                animate();
            }

            function onMouseMove(event) {
                mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
                mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
            }

            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            }

            const clock = new THREE.Clock();
            function animate() {
                const elapsedTime = clock.getElapsedTime();
                
                const positions = model.geometry.attributes.position;
                const originalPositions = model.geometry.attributes.originalPosition;
                for (let i = 0; i < positions.count; i++) {
                    const ox = originalPositions.getX(i);
                    const oy = originalPositions.getY(i);
                    const oz = originalPositions.getZ(i);
                    const displacement = Math.sin(ox * 2.5 + elapsedTime) * Math.sin(oy * 2.5 + elapsedTime) * 0.15;
                    positions.setX(i, ox + displacement);
                    positions.setY(i, oy + displacement);
                    positions.setZ(i, oz + displacement);
                }
                positions.needsUpdate = true;
                model.geometry.computeVertexNormals();

                model.rotation.y = elapsedTime * 0.1;
                camera.position.x += (mouse.x * 0.5 - camera.position.x) * 0.05;
                camera.position.y += (mouse.y * 0.5 - camera.position.y) * 0.05;
                camera.lookAt(scene.position);

                renderer.render(scene, camera);
                requestAnimationFrame(animate);
            }

            initThree();

            // --- GSAP SCROLL ANIMATIONS ---
            gsap.from("[data-anim='profile-image']", {
                scrollTrigger: { trigger: "#profile-section", start: "top 70%" },
                scale: 0.8, opacity: 0, duration: 1.5, ease: 'power3.out'
            });

            gsap.from('[data-anim="grid-item"]', {
                opacity: 0, scale: 0.9, y: 50,
                stagger: 0.05,
                scrollTrigger: { trigger: '#showcase-section', start: 'top 70%' }
            });
            
            ScrollTrigger.create({
                trigger: "body", start: "top top", end: "bottom bottom", scrub: 1,
                onUpdate: self => {
                    gsap.to(model.position, { z: -self.progress * 5 });
                    gsap.to(model.rotation, { x: self.progress * Math.PI });
                    gsap.to(model.material, { opacity: 1 - self.progress, ease: 'power1.out' });
                }
            });

            const statusText = document.getElementById('status-text');
            ScrollTrigger.create({
                trigger: "#profile-section", start: "top 80%",
                onEnter: () => statusText.textContent = "ANALYZING SUBJECT",
                onLeaveBack: () => statusText.textContent = "AWAITING INPUT"
            });
            ScrollTrigger.create({
                trigger: "#showcase-section", start: "top 80%",
                onEnter: () => statusText.textContent = "LOADING ARCHIVES",
                onLeaveBack: () => statusText.textContent = "ANALYZING SUBJECT"
            });
        });
    </script>
</body>
</html>
